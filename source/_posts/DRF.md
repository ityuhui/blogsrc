title: Dominant Resource Fairness算法

date: 2020-06-20 21:36:36

categories:
- 大数据和分布式计算

tags:
- 资源调度
- DRF

---

## 1. 介绍

DRF算法是用于资源调度的算法，被yarn和mesos的调度器所采用。

## 2. 动机

基于slot的算法，不是没有用尽资源，就是过度使用资源。

## 3. 分配的属性

为了可以评估一个算法是否公平，论文提出了四个属性，以此来指导算法的开发。

### Sharing incentive

每一个用户应该更好的分享集群里的资源，而不是排他性使用他所有的那一部分。假设一个集群里有相同的机器和n个用户，每个用户都不可能在一个1/n资源分区里分配更多的任务。

### Strategy-proofness

用户不可能通过撒谎的方式，获得更多的资源。

### Envy-freeness

一个用户不能获的另外一个用户的分配资源。

### Pareto efficiency

如果一个用户没有降低他的分配，那么其他用户不可能提高分配。

## 4. DRF算法

DRF算法满足前一章所提出的四个属性。对于每一个用户，DRF计算出给该用户分配的每一个资源的份额。一个用户的所有的资源份额中，数量最大的，被称之为该用户的“主导份额”，该资源被称之该用户的“主导资源”。不同的用户可能有不同的主导资源。

### 4.1 例子

假设一个系统，有9 CPU，18GB 内存。两个用户，A运行任务（1 CPU，4 GB）
